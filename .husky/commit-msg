echo "ğŸ“ Validating commit message..."

# ì»¤ë°‹ ë©”ì‹œì§€ íŒŒì¼ ì½ê¸°
commit_message=$(cat "$1")

# ê¸°ë³¸ ê·œì¹™ ì²´í¬
if [ ${#commit_message} -lt 10 ]; then
  echo "âŒ Commit message too short (minimum 10 characters)"
  echo "Current: '$commit_message' (${#commit_message} chars)"
  exit 1
fi

if [ ${#commit_message} -gt 100 ]; then
  echo "âŒ Commit message too long (maximum 100 characters)"
  echo "Current: ${#commit_message} chars"
  exit 1
fi

# íŠ¹ìˆ˜ ë©”ì‹œì§€ í—ˆìš© (merge, revert ë“±)
if echo "$commit_message" | grep -qE "^(Merge|Revert|fixup!|squash!|ğŸ“ Update frontmatter)"; then
  echo "âœ… Special commit message accepted"
  exit 0
fi

# ì´ëª¨ì§€ë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸ (ì„ íƒì )
if echo "$commit_message" | grep -qE "^[ğŸ¨ğŸ›âœ¨ğŸš€ğŸ“ğŸ’šğŸ‘·ğŸ’„ğŸ”§ğŸ”¨ğŸŒğŸ’¡ğŸ”€ğŸ—ƒï¸âš¡ğŸ’¥ğŸ—ï¸ğŸ“¦ğŸššğŸ“„ğŸ”ŠğŸ™ˆâš—ï¸ğŸ±â™¿ğŸ’«ğŸ—‘ï¸ğŸ”ğŸ“ˆğŸ³ğŸ”€ğŸ’«]"; then
  echo "âœ… Commit message validation passed"
  exit 0
fi

# ì¼ë°˜ì ì¸ ë™ì‚¬ë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸
if echo "$commit_message" | grep -qiE "^(add|fix|update|remove|refactor|docs|style|test|chore|feat|build|ci|perf):?\s"; then
  echo "âœ… Conventional commit format detected"
  exit 0
fi

echo "âš ï¸  Consider using emoji or conventional commit format"
echo "Examples:"
echo "  âœ¨ Add new feature"
echo "  ğŸ› Fix bug in login"
echo "  ğŸ“ Update documentation" 
echo "  feat: add user authentication"
echo ""
echo "âœ… Commit message accepted (basic validation passed)"