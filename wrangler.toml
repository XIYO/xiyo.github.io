name = "xiyo-blog"
main = ".svelte-kit/cloudflare/_worker.js"

# 최신 날짜로 갱신
compatibility_date = "2025-08-16"

# Node.js 호환 모드 유지 (2024-09-23+ 날짜 필요)
compatibility_flags = ["nodejs_compat"]

# routes를 쓰므로 workers_dev는 끔
workers_dev = false

[assets]
directory = ".svelte-kit/cloudflare"
binding = "ASSETS"
html_handling = "auto-trailing-slash"
not_found_handling = "single-page-application"

[[routes]]
pattern = "blog.xiyo.dev/*"
zone_name = "xiyo.dev"

[env.production]
# 충돌 방지: 기본 규칙을 쓰려면 name 줄을 지우거나, 아래처럼 명시적으로 분리
name = "xiyo-blog-production"
workers_dev = false

[observability]
enabled = true
head_sampling_rate = 0.1