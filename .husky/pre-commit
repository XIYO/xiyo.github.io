# ë³€ê²½ëœ ì½”ë“œ íŒŒì¼ ì°¾ê¸° (js, ts, svelte, css, html, md ë“±)
changed_files=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(js|ts|svelte|css|html|json|md|markdown)$' || true)

# ë³€ê²½ëœ íŒŒì¼ì´ ìˆì„ ë•Œë§Œ í¬ë§·íŒ…ê³¼ ë¦°íŠ¸ ì‹¤í–‰
if [ -n "$changed_files" ]; then
  echo "ğŸ¨ ì½”ë“œ í¬ë§·íŒ…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤..."
  pnpm format
  
  # ë‹¤ì‹œ ìŠ¤í…Œì´ì§• (í¬ë§·íŒ… í›„ ë³€ê²½ëœ íŒŒì¼ë“¤)
  git add .
  
  echo "ğŸ” ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤..."
  pnpm lint
else
  echo "ğŸ“ ë³€ê²½ëœ íŒŒì¼ì´ ì—†ì–´ í¬ë§·íŒ…ê³¼ ë¦°íŠ¸ë¥¼ ê±´ë„ˆëœë‹ˆë‹¤."
fi